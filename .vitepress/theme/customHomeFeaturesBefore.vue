<!--.vitepress/theme/MyLayout.vue-->
<script setup>
import DefaultTheme from 'vitepress/theme'
import Wwads from "./components/wwads.vue";
import Googleads from "./components/googleads.vue";
import donate from "./components/donate.vue";
import aiChat from "./components/aiChat.vue";

const {Layout} = DefaultTheme

// AIèŠå¤©ç»„ä»¶é…ç½®
const aiChatConfig = {
  apiUrl: 'https://rime-knowledge.mintimate.cc/api/v1/chat/stream',
  captchaAppId: "191056602",
  maxHistoryTurns: 3,
  welcomeMessage: 'æ‚¨å¥½ï¼æˆ‘æ˜¯è–„è·è¾“å…¥æ³• AIåŠ©æ‰‹ ï¼Œå¯ä»¥å¸®æ‚¨è§£ç­”å…³äºè–„è·è¾“å…¥æ³•çš„å„ç§é—®é¢˜ã€‚è¯·éšæ—¶å‘æˆ‘æé—®ï¼<br/> ' +
                  'å†…å®¹åŸºäº`å‘é‡åŒ–çš„çŸ¥è¯†åº“` å’Œ `DeepSeek RAG æ£€ç´¢`ï¼Œä¸ä¿è¯æ­£ç¡®æ€§ï¼Œè¯·è‡ªè¡Œåˆ¤æ–­ ğŸ˜Šâ€¦ <br/><br/> ' + 
                  'ä½ å¯èƒ½ä¼šå–œæ¬¢ ğŸ¤” : [oh-my-rime](https://github.com/Mintimate/oh-my-rime)ã€[Mintimate\'s Blog](https://www.mintimate.cn)ã€[Bilibili](https://space.bilibili.com/355567627)'
}
</script>

<template>
  <Layout>
    <template #nav-bar-content-after>
       <!-- AIèŠå¤©ç»„ä»¶ - å›ºå®šåœ¨å¯¼èˆªæ  -->
        <div class="askAi">
          <aiChat 
            :api-url="aiChatConfig.apiUrl" 
            :captcha-app-id="aiChatConfig.captchaAppId"
            :max-history-turns="aiChatConfig.maxHistoryTurns"
            :welcome-message="aiChatConfig.welcomeMessage"
          />
        </div>
    </template>
    <template #home-features-before>
      <div class="VPFeatures" style="margin-bottom: 20px">
        <wwads/>
      </div>
    </template>

    <template #aside-ads-before>
      <div class="supportMeCard" style="margin: 10px 0; padding: 0">
        <Googleads :dataAdSlot="'1079004688'"/>
      </div>
      <a href="https://afdian.com/a/mintimate" target="_blank" rel="noopener sponsored">
      <div class="supportMeCard">
        <span class="supportMeCardText">
              Sponsor a scoop of matcha powder for better posts. <br/>(â—'â—¡'â—)ï¾‰â™¥
          </span>
      </div>
      </a>
    </template>

    <template #sidebar-nav-after>
      <div class="VPCarbonAds" style="margin-top: 20px">
        <wwads :horizontal="false"/>
      </div>
    </template>
    <template #aside-outline-after>

    </template>
  </Layout>
</template>

<style scoped>

.VPFeatures {
  position: relative;
  padding: 0 24px;
}

@media (min-width: 640px) {
  .VPFeatures {
    padding: 0 48px;
  }
}

@media (min-width: 960px) {
  .VPFeatures {
    padding: 0 64px
  }
}

.supportMeCard {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 24px;
  border-radius: 12px;
  min-height: 88px;
  text-align: center;
  line-height: 12px;
  font-size: 12px;
  font-weight: 500;
  background-color: var(--vp-carbon-ads-bg-color);
}

.supportMeCard .supportMeCardText {
  display: block;
  margin: 0 auto;
  padding-top: 12px;
  color: var(--vp-carbon-ads-text-color);
  transition: color .25s;
}
</style>