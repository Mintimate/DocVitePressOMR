---
layout: doc
title: Rimeè¾“å…¥å†…å®¹å®šåˆ¶
head:
  - - meta
    - name: keywords
      content: Rimeè¯å…¸å®šåˆ¶,Rimeå¤šç«¯åŒæ­¥,Rimeé…ç½®åŒæ­¥
description: åœ¨Rimeè¾“å…¥æ³•å†…ï¼Œå¦‚ä½•åŒæ­¥å¤šç«¯çš„é…ç½®å‘¢ï¼Ÿ å¹¶ä¸”å¦‚ä½•å®šåˆ¶è¯å…¸åŠŸèƒ½å‘¢ï¼Ÿ å¯ä»¥æŸ¥çœ‹æœ¬æ–‡å­¦ä¹ å¦‚ä½•è¿›è¡Œå®šåˆ¶è¯å…¸å†…å®¹å’Œå¤šç«¯åŒæ­¥ã€‚
---

# è¾“å…¥çš„å†…å®¹å®šåˆ¶

å¦‚æœä½ æƒ³å®šåˆ¶ä¸€äº›å†…å®¹ï¼Œæœ¬æ–‡è¿›è¡Œäº†ä¸€äº›è®²è§£ã€‚

å»ºè®®å®šåˆ¶æœ¬æ–‡å†…å®¹ï¼Œä½¿ç”¨è½¯ä»¶ï¼š
- [Visual Studio Code: https://code.visualstudio.com](https://code.visualstudio.com/)

æœ¬æ–‡å†…å®¹å‚è€ƒï¼š
- [é›¾å‡‡æ‹¼éŸ³æ–‡æ¡£: https://dvel.me/posts/rime-ice](https://dvel.me/posts/rime-ice)
- [Rimeå®˜æ–¹å®šåˆ¶æŒ‡å—: https://github.com/rime/home/wiki/CustomizationGuide](https://github.com/rime/home/wiki/CustomizationGuide)

## ç¼–å†™è¯åº“
ç”±äº Rime çš„è®¾è®¡ï¼Œæ‹¼éŸ³è¯åº“ä¸­å¹¶ä¸é€‚ç”¨`è‹±æ–‡å•è¯`å’Œ`è¶…çº§ç®€æ‹¼`ï¼š
```yaml
# é”™è¯¯ï¼ˆä¸å»ºè®®ï¼‰ç¤ºä¾‹
hello	hello
ä¸–ç•Œ	s j
è’™å¥‡Â·DÂ·è·¯é£	meng qi d lu fei
```
å¯ä»¥çœ‹åˆ°ï¼Œ`ä¸–ç•Œ`ä½¿ç”¨`s`å’Œ`j`ï¼Œè¿™æ ·ä¼šå¯¼è‡´è¾“å…¥`s`åï¼Œæ— æ³•æ£€å½•å‡º`s`å¼€å¤´çš„å­—æˆ–è€…è¯ï¼›åŒç†ï¼Œ`j`å’Œ`d`ä¹Ÿä¼šå¯¼è‡´æ— æ³•æ£€å½•å‡ºç›¸å…³å¼€å¤´çš„è¯è¯­ã€‚

å¦‚æœè¯åº“éƒ½é‡‡ç”¨è¿™æ ·çš„è®¾è®¡ï¼Œé‚£ä¹ˆå½“ä½ è¾“å…¥`s`æ—¶å€™ï¼Œä¼šæŠŠæ‰€æœ‰`s`å¼€å¤´çš„è¯è¯­å…¨éƒ¨æ£€å½•ï¼Œå¯¼è‡´è¾“å…¥æ³•å¡é¡¿ï¼Œç”šè‡³å†…å­˜æ³„éœ²ï¼Œè¾“å…¥æ³•é—ªé€€ã€‚

æ‰€ä»¥ï¼š
- å»ºè®®è¯åº“å†…å®¹å…¨éƒ¨å…¨æ‹¼ï¼›
- è‹±æ–‡è¯åº“æ”¾åœ¨è‹±æ–‡å­—å…¸é‡Œï¼Œè‹±æ–‡è–„è·è¾“å…¥æ³•ï¼Œæ˜¯æŠŠè‹±æ–‡è¯åº“ä½œä¸ºç¬¬äºŒè¾“å…¥æºï¼Œå¹¶ä¸”å…³é—­è‹±æ–‡è¾“å…¥çš„è‡ªåŠ¨è”æƒ³å’Œé€ å¥ã€‚

æŸ¥çœ‹è–„è·è¾“å…¥æ³•çš„æ–‡ä»¶ï¼Œä½ ä¼šå‘ç°ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š
```text
dicts
â”œâ”€â”€ custom_simple.dict.yaml        # é¢„ç•™çš„è‡ªå®šä¹‰è¯å…¸ï¼Œå¯ä»¥æŠŠè‡ªå·±å–œæ¬¢çš„è¯ä¸¢åœ¨è¿™é‡Œ
â”œâ”€â”€ luna_pinyin.biaoqing.dict.yaml # è¡¨æƒ…åŒ…è¯å…¸
â”œâ”€â”€ luna_pinyin.emoji.dict.yaml    # Emojiè¯å…¸ï¼Œåç»­å¯èƒ½ä¼šç§»é™¤
â”œâ”€â”€ luna_pinyin.extended.dict.yaml # æ˜æœˆæ‹¼éŸ³çš„è¯å…¸ï¼Œåç»­å¯èƒ½ä¼šç§»é™¤
â”œâ”€â”€ rime_ice.41448.dict.yaml       # é›¾å‡‡æ‹¼éŸ³çš„æ‰©å±•å•å­—
â”œâ”€â”€ rime_ice.8105.dict.yaml        # é›¾å‡‡æ‹¼éŸ³çš„åŸºç¡€å•å­—
â”œâ”€â”€ rime_ice.base.dict.yaml        # é›¾å‡‡æ‹¼éŸ³æ ¸å¿ƒåŸºç¡€è¯åº“
â”œâ”€â”€ rime_ice.en.dict.yaml          # é›¾å‡‡æ‹¼éŸ³çš„è‹±æ–‡è¯å…¸
â”œâ”€â”€ se_words.dict.yaml             # è½¯ä»¶ä»ä¸šå¸¸ç”¨è¯å…¸
â”œâ”€â”€ terra_rime_ice.base.dict.yaml  # åœ°çƒæ‹¼éŸ³è¯å…¸ï¼ˆPythonç”Ÿæˆï¼‰
â””â”€â”€ wubi98_base.dict.yaml          # 98äº”ç¬”è¯å…¸
```
è¯å…¸æ–‡ä»¶å†…éƒ¨çš„ç¼–å†™ï¼š
```yaml
---
name: è¯åº“å
version: "ç‰ˆæœ¬å·"
sort: by_weightï¼ˆæŒ‰æƒé‡æ’åºï¼‰ | originalï¼ˆæŒ‰ç è¡¨é¡ºåºæ’åºï¼‰
columns:    # ä¸å†™ columns å±æ€§æ—¶ï¼Œé»˜è®¤é¡ºåºä¸ºï¼š
- text    # è¯æ±‡
- code    # ç¼–ç 
- weight  # æƒé‡
- stem    # é€ è¯ç ï¼ˆä¸çŸ¥é“æ˜¯å•¥ï¼Œå¥½åƒå’Œæ‹¼éŸ³æ–¹æ¡ˆæ²¡æœ‰å…³ç³»ï¼‰
  ...
  ä½ å¥½	ni hao	123
  å¯¹äºæ²¡æœ‰æ³¨éŸ³ï¼Œåˆæƒ³è®¾ç½®æƒé‡çš„è¯åº“æ–‡ä»¶ï¼Œä¿®æ”¹åˆ—å³å¯ï¼š

---
```
ä¸¾ä¾‹ï¼Œ**æ³¨æ„ï¼Œè¯å†…çš„æ ¼å¼æ˜¯`ã€è¯ã€<Tab>ã€æ‹¼éŸ³ã€<ç©ºæ ¼>ã€æ‹¼éŸ³ã€<ç©ºæ ¼>ã€æ‹¼éŸ³ã€<Tab>ã€æƒé‡ã€`**ï¼š
```yaml
# Rime dictionary
# encoding: utf-8
#
# ä¸ªæ€§åŒ–è¯è¯­ - by @Mintimate
# å»ºè®®è‡ªå®šä¹‰çŸ­è¯­æˆ–è€…è¯è¯­è¿½åŠ åœ¨è¿™é‡Œ
---
name: custom_simple
version: "2023.11.30"
sort: by_weight
...

# äººå
# å¸¸ç”¨è¯­
å“ˆå“ˆ	ha ha	99
macOS	mac	99
å¯ä»¥	ke yi	99
# (ï½¡>ã……<ï½¡)
Mintimate	mintimate	1
https://www.mintimate.cn	mintimate	2
Mintimate's Blog	mintimate	3
```

è¿™äº›è¯å…¸ç”±æ ¹ç›®å½•ä¸‹çš„è¯å…¸ä¸»é©±åŠ¨é…ç½®è¿›è¡Œå¼•ç”¨ï¼š
```text
â”œâ”€â”€ custom_dict_en.all.dict.yaml        # è–„è·è¾“å…¥æ³•çš„è‹±æ–‡è¯å…¸
â”œâ”€â”€ custom_dict_terra.all.dict.yaml     # åœ°çƒæ‹¼éŸ³ è–„è·å®šåˆ¶è¯å…¸
â”œâ”€â”€ custom_dict.all.dict.yaml           # è–„è·æ‹¼éŸ³è¯å…¸
â””â”€â”€ custom_dict.wubi.dict.yaml          # 98äº”ç¬” è–„è·å®šåˆ¶è¯å…¸
```

çœ‹çœ‹å†…éƒ¨æ˜¯å¦‚ä½•å¼•ç”¨ï¼š
```yaml
---
name: custom_dict.all ##æ³¨æ„nameå’Œæ–‡ä»¶åä¸€è‡´
version: "2020.6.7"
sort: by_weight
# æ­¤å¤„ä¸º è¾“å…¥æ³•æ‰€ç”¨åˆ°çš„è¯åº“ï¼Œæ—¢è¡¥å……æ‹“å±•è¯åº“çš„åœ°æ–¹
import_tables:
  - dicts/rime_ice.8105 # éœ§å‡‡æ‹¼éŸ³ å¸¸ç”¨å­—é›†åˆ
  - dicts/rime_ice.41448 # éœ§å‡‡æ‹¼éŸ³ å®Œæ•´å­—é›†åˆ
  - dicts/custom_simple # è‡ªå®šä¹‰
  - dicts/rime_ice.base  # é›¾å‡‡æ‹¼éŸ³ https://github.com/iDvel/rime-ice
  - dicts/se_words # äº’è”ç½‘ç½‘ç»œè¯æ±‡
  - dicts/luna_pinyin.biaoqing # è¡¨æƒ…
  - dicts/luna_pinyin.emoji # emoji Ext
...
```

å…³é”®ç‚¹ï¼š 
- `name`: `name`ä¸ºæ–‡ä»¶åå»é™¤`dict`åç¼€ï¼Œå¹¶ä¸”æ–‡ä»¶åä¹Ÿéœ€è¦`dict`;
- `import_tables`: åé¢æšä¸¾éœ€è¦å¼•å…¥çš„è¯å…¸ã€‚

ä¿®æ”¹å¥½è¯åº“åï¼Œè®°å¾—é‡æ–°éƒ¨ç½²è¾“å…¥æ³•ã€‚

ä»¥ä¸Šå†…å®¹ï¼Œå¯ä»¥å¸®åŠ©ä½ å®šåˆ¶è¯åº“ã€‚


## è‡ªå®šä¹‰æ–‡æœ¬
`è‡ªå®šä¹‰æ–‡æœ¬`ï¼Œå°±æ˜¯è¾“å…¥æ³•å†…`custom_phrase.txt`ï¼Œä½ åœ¨è–„è·è¾“å…¥æ³•å†…åº”è¯¥çœ‹ä¸åˆ°â€¦â€¦ 

æˆ‘è‡ªå·±ç†è§£ï¼Œ`è‡ªå®šä¹‰æ–‡æœ¬`ï¼Œå°±æ˜¯æƒé‡ç‰¹åˆ«é«˜çš„å­—å…¸ï¼ˆé»˜è®¤æ˜¯è¿™æ ·çš„ï¼Œä½†å¯ä»¥é€šè¿‡`initial_quality`è°ƒæ•´å„ä¸ªç¿»è¯‘å™¨çš„æƒé‡ï¼‰ï¼›æ‰€ä»¥ï¼Œæˆ‘å°±å»é™¤äº†`è‡ªå®šä¹‰æ–‡æœ¬`çš„é…ç½®ã€‚**å¦‚æœéœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œé…ç½®**ã€‚
æ ¼å¼å’Œå­—å…¸ä¸€æ ·ï¼š
```yaml
# Rime table
# coding: utf-8
# è‡ªå®šä¹‰æ–‡æœ¬
# æ­¤è¡Œä¹‹åä¸èƒ½å†™æ³¨é‡Š
å™·	hm
å“¼	hng


å»	q	2
åƒ	q	1

æˆ‘	w	3
ä¸‡	w	2
å¾€	w	1

ç­‰ç­‰	dd
çš„åœ°å¾—	ddd
ç­‰ç­‰ç­‰ç­‰	dddd
åˆšåˆš	gg
æ‰åˆšåˆš	cgg
çŸ¥é“	zd
ä¸çŸ¥é“	bzd
```

åŒæ—¶ï¼Œè¾“å…¥æ³•çš„é…ç½®å†…éœ€è¦åŠ ä¸Šï¼š
```yaml
translators:
    - table_translator@custom_phrase      # è‡ªå®šä¹‰çŸ­è¯­ custom_phrase.txt

# è‡ªå®šä¹‰çŸ­è¯­
custom_phrase:
  dictionary: ""
  user_dict: custom_phrase   # éœ€è¦æ‰‹åŠ¨åˆ›å»º custom_phrase.txt æ–‡ä»¶
  db_class: stabledb
  enable_completion: false   # è¡¥å…¨æç¤º
  enable_sentence: false     # ç¦æ­¢é€ å¥
  initial_quality: 99        # custom_phrase çš„æƒé‡åº”è¯¥æ¯”å…¶ä»–è¯åº“å¤§
```

è‡ªå®šä¹‰æ–‡æœ¬ä¸ä¸å…¶ä»–ç¿»è¯‘å™¨äº’ç›¸é€ è¯ï¼Œ**å¦‚æœä½¿ç”¨äº†å®Œæ•´ç¼–ç ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æˆ–è¯å°†æ— æ³•å‚ä¸é€ è¯ï¼Œå³è‡ªé€ è¯æ— æ³•è¢«è®°ä½ã€‚**

æ‰€ä»¥å»ºè®®åªå›ºå®šéå®Œæ•´ç¼–ç çš„å­—è¯ï¼Œ`ã€Œçš„ã€`(de)åº”ä¸º`ã€Œdã€`ï¼Œ`ã€Œæ˜¯ã€`(shi)åº”ä¸º`ã€Œæ˜¯sã€`ï¼Œ`ã€Œä»™å‰‘ã€`(xian jian)åº”ä¸º`ã€Œxjã€`ã€‚

æ³¨æ„å…¨æ‹¼çš„`a o e`ä¹Ÿæ˜¯å®Œæ•´æ‹¼å†™ï¼Œä¸å®œå°†`a o e`çš„å•å­—å†™è¿›è‡ªå®šä¹‰æ–‡æœ¬ï¼Œå¦åˆ™`ã€Œå•Š å“¦ å‘ƒã€`æ— æ³•è¿›è¡Œé€ è¯ã€‚ä¹Ÿå°±æ˜¯è¿™äº›ä¸å®œåŠ å…¥ï¼š
```yaml
å•Š a
å“¦ o
```

ä»¥è–„è·è¾“å…¥æ³•å†…çš„è–„è·å…¨æ‹¼ä¸ºä¾‹ï¼Œæ ¹æ®[é…ç½®è¦†å†™å’Œå®šåˆ¶](configurationOverride.html)çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»º`rime_mint.custom.yaml`æ–‡ä»¶ï¼š

```yaml
# Rime Custom
# encoding: utf-8

patch:
  "engine/translators/+":
    - table_translator@mint_simple            # è–„è·è‡ªå®šä¹‰çŸ­è¯­

  # è–„è·è‡ªå®šä¹‰çŸ­è¯­
  mint_simple:
    dictionary: ""
    user_dict: dicts/rime_mint.simple
    db_class: stabledb
    enable_completion: false
    enable_sentence: false
    initial_quality: 0.5
    comment_format:
      - xform/^.+$//
```

ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»º`dicts/rime_mint.simple.txt`æ–‡ä»¶ï¼š
```yaml
# Rime table
# coding: utf-8
#@/db_name	rime_mint.simple.txt
#@/db_type	tabledb
#
#
# æ­¤è¡Œä¹‹åä¸èƒ½å†™æ³¨é‡Š
æˆ‘ä»¬	wm
```
æ³¨æ„ï¼Œ`rime_mint.simple.txt`æ–‡ä»¶å†…çš„å†…å®¹ï¼Œæ˜¯`ã€Œè¯ã€<Tab>ã€Œæ‹¼éŸ³ç®€å†™ã€`çš„æ ¼å¼ã€‚

æœ€åï¼Œé‡æ–°éƒ¨ç½²è¾“å…¥æ³•ï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå®šä¹‰æ–‡æœ¬çš„æ•ˆæœäº†ã€‚

## åŒæ‹¼ç¼–ç è½¬ä¹‰

è–„è·çš„é»˜è®¤é…ç½®ï¼ŒåŒæ‹¼çš„å€™é€‰åŒºç¼–ç æ˜¯æœ‰åšè½¬æ¢çš„ï¼Œæ¯”å¦‚ï¼šå°é¹¤åŒæ‹¼éœ€è¦æ‹¼å†™`ä½ å¥½`ï¼Œä¼šå‡ºç°`nihao`ï¼Œè€Œä¸æ˜¯`nihc`ï¼š

![åŒæ‹¼ç¼–ç è½¬ä¹‰ä¸ºæ­£å¸¸](/image/guide/doublePinyinPreedit_format.webp)

å…¶å®æ˜¯å› ä¸ºæ–¹æ¡ˆå†…éƒ¨çš„`translator/preedit_format`é…ç½®ï¼Œè¿™ä¸ªé…ç½®æ˜¯ç”¨æ¥è½¬ä¹‰ç¼–ç çš„ï¼Œä¾æ—§ä»¥å°é¹¤åŒæ‹¼ä¸ºä¾‹ï¼š
```yaml
translator:
  preedit_format:
    - xform/([bpmfdtnljqx])n/$1iao/
    - xform/(\w)g/$1eng/
    - xform/(\w)q/$1iu/
    - xform/(\w)w/$1ei/
    - xform/([dtnlgkhjqxyvuirzcs])r/$1uan/
    - xform/(\w)t/$1ve/
    - xform/(\w)y/$1un/
    - xform/([dtnlgkhvuirzcs])o/$1uo/
    - xform/(\w)p/$1ie/
    - xform/([jqx])s/$1iong/
    - xform/(\w)s/$1ong/
    - xform/(\w)d/$1ai/
    - xform/(\w)f/$1en/
    - xform/(\w)h/$1ang/
    - xform/(\w)j/$1an/
    - xform/([gkhvuirzcs])k/$1uai/
    - xform/(\w)k/$1ing/
    - xform/([jqxnl])l/$1iang/
    - xform/(\w)l/$1uang/
    - xform/(\w)z/$1ou/
    - xform/([gkhvuirzcs])x/$1ua/
    - xform/(\w)x/$1ia/
    - xform/(\w)c/$1ao/
    - xform/([dtgkhvuirzcs])v/$1ui/
    - xform/(\w)b/$1in/
    - xform/(\w)m/$1ian/
    - xform/([aoe])\1(\w)/$1$2/
    - "xform/(^|[ '])v/$1zh/"
    - "xform/(^|[ '])i/$1ch/"
    - "xform/(^|[ '])u/$1sh/"
    - xform/([jqxy])v/$1u/
    - xform/([nl])v/$1Ã¼/
    - xform/Ã¼/v/  # Ã¼ æ˜¾ç¤ºä¸º v
```

å¦‚æœä½ ä¸éœ€è¦ï¼Œå¯ä»¥è¦†å†™æ–¹æ¡ˆé…ç½®å†…çš„`translator/preedit_format`ä¸ºç©ºã€‚ä»¥å°é¹¤åŒæ‹¼ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»º`double_pinyin_flypy.custom.yaml`æ–‡ä»¶ï¼š
```yaml
# Rime Custom
# encoding: utf-8

patch:
  translator/preedit_format: []
```

ä¹‹åï¼Œé‡æ–°éƒ¨ç½²è¾“å…¥æ³•ï¼Œå°±å¯ä»¥çœ‹åˆ°åŒæ‹¼çš„ç¼–ç äº†ã€‚

::: warning æ³¨æ„
ä¸€ä¸ªcustomå†…ï¼Œåªèƒ½æœ‰ä¸€ä¸ª`patch`å…¥å£ï¼Œæ¯”å¦‚æˆ‘è¿˜è¦†å†™äº†å…¶ä»–é…ç½®ï¼Œé‚£ä¹ˆ`custom`æ–‡ä»¶å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š
```yaml
# Rime Custom
# encoding: utf-8

patch:
  "switches/@last":
      name: emoji_suggestion
      reset: 1
      states: [ "ğŸ˜£ï¸","ğŸ˜ï¸"]
  "engine/translators/+":
    - table_translator@wubi86_jidian
  wubi86_jidian:
    dictionary: wubi86_jidian           # è‹±æ–‡è¯å…¸
    enable_sentence: false         # å…³é—­è‡ªåŠ¨é€ å¥
    enable_completion: false       # å…³é—­è‡ªåŠ¨æç¤º
    initial_quality: 0.8
  "engine/filters/+":
    - lua_filter@*tag_user_dict               # æ ‡è®°ç”¨æˆ·çš„çŸ­è¯­å’Œè¯å…¸
  # è¯åº“æç¤º
  tag_user_dict:
    # ç”¨æˆ·è¯å…¸è¡¨ç¤º
    user_table: 'â˜'
    # è‡ªåŠ¨ä¸å…¨
    completion: 'â˜'
    # è‡ªåŠ¨é€ å¥
    sentence: '~'
    # é»˜è®¤çŸ­è¯­
    phrase: ''
    # ç”¨æˆ·çŸ­è¯­
    user_phrase: '*'
  # ç¼–ç è½¬ä¹‰
  translator/preedit_format: []
```

![åªèƒ½æœ‰ä¸€ä¸ªpatch](/image/guide/onlyOnePatchInCustom.webp)

:::